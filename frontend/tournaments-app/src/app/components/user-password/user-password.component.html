<h2 style="text-align: center;" mat-dialog-title>Zmiana hasła</h2>
<mat-dialog-content>
  <form #regForm="ngForm" [formGroup]="myForm" (ngSubmit)="submit(form)">
    <!-- Value: {{myForm.value | json}} -->
    <div class="formBody">
        <mat-form-field>
            <input matInput placeholder="obecne hasło" [type]="hide ? 'password' : 'text'" formControlName="oldPassword" required />
            <mat-icon style="cursor:pointer" matSuffix (click)="hide = !hide">{{
              hide ? "visibility_off" : "visibility"
            }}</mat-icon>
            <mat-hint align="end">min. 6 znaków</mat-hint>
            <mat-error *ngIf="oldPasswordInput.errors?.minlength && oldPasswordInput.touched">
              Hasło za krótkie! min. 6 znaków
            </mat-error>
            <mat-error *ngIf="oldPasswordInput.errors?.required && oldPasswordInput.touched">
              Hasło jest wymagane
            </mat-error>
          </mat-form-field>

        <mat-form-field>
            <input matInput placeholder="nowe hasło" [type]="hide ? 'password' : 'text'" formControlName="newPassword" required />
            <mat-icon style="cursor:pointer" matSuffix (click)="hide = !hide">{{
              hide ? "visibility_off" : "visibility"
            }}</mat-icon>
            <mat-hint align="end">min. 6 znaków</mat-hint>
            <mat-error *ngIf="newPasswordInput.errors?.minlength && newPasswordInput.touched">
              Hasło za krótkie! min. 6 znaków
            </mat-error>
            <mat-error *ngIf="newPasswordInput.errors?.required && newPasswordInput.touched">
              Hasło jest wymagane
            </mat-error>
          </mat-form-field>

        <mat-form-field>
            <input matInput placeholder="powtórz hasło" [type]="hide ? 'password' : 'text'" formControlName="confirmPassword"
            [errorStateMatcher]="errorMatcher" required />
            <mat-icon style="cursor:pointer" matSuffix (click)="hide = !hide">{{
              hide ? "visibility_off" : "visibility"
            }}</mat-icon>
         
            
            <mat-error *ngIf="myForm.hasError('passwordDoNotMatch')">
              Hasła nie są takie same
            </mat-error>
      
          </mat-form-field>

      
      <mat-dialog-actions>
        <button
          mat-raised-button
          [disabled]="myForm.invalid"
          color="primary"
          type="submit"
          style="margin-top: 10px; text-transform: uppercase;"
        >
          Zapisz
        </button>
        <button
          mat-raised-button
          mat-dialog-close
          mat-dialog-close="false"
          style="
            margin-top: 10px;
            text-transform: uppercase;
            background-color: rgb(250, 220, 164);
          "
        >
          Anuluj
        </button>
      </mat-dialog-actions>
    </div>
  </form>
</mat-dialog-content>

